#include <bits/stdc++.h>
using namespace std;

// ✅ Prim's Algorithm
int prim(vector<vector<pair<int,int>>>& g,int n){
    vector<int> vis(n,0); priority_queue<pair<int,int>,vector<pair<int,int>>,greater<>> pq;
    pq.push({0,0}); int cost=0;
    while(!pq.empty()){
        auto [w,u]=pq.top(); pq.pop();
        if(vis[u]) continue; vis[u]=1; cost+=w;
        for(auto [v,wt]:g[u]) if(!vis[v]) pq.push({wt,v});
    } return cost;
}

// ✅ Kruskal's Algorithm
struct DSU{
    vector<int> p;
    DSU(int n){p.resize(n); iota(p.begin(),p.end(),0);}
    int f(int x){return p[x]==x?x:p[x]=f(p[x]);}
    bool unite(int a,int b){a=f(a);b=f(b); if(a==b) return 0; p[b]=a; return 1;}
};
int kruskal(int n,vector<vector<int>>& e){
    sort(e.begin(),e.end(),[](auto&a,auto&b){return a[2]<b[2];});
    DSU d(n); int cost=0;
    for(auto &x:e) if(d.unite(x[0],x[1])) cost+=x[2];
    return cost;
}

int main(){
    vector<vector<pair<int,int>>> g={{ {1,2},{2,3} },{{0,2},{2,1}},{{0,3},{1,1}}};
    cout<<"Prim MST: "<<prim(g,3)<<"\n";

    vector<vector<int>> e={{0,1,2},{1,2,1},{0,2,3}};
    cout<<"Kruskal MST: "<<kruskal(3,e)<<"\n";
}
